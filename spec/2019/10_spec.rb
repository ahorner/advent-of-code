require "spec_helper"

describe "Day 10: Monitoring Station" do
  let(:runner) { Runner.new("2019/10") }

  describe "Part One" do
    it "finds the maximum detectable asteroids" do
      expect(runner.execute!(<<~TXT, part: 1)).to eq(8)
        .#..#
        .....
        #####
        ....#
        ...##
      TXT
      expect(runner.execute!(<<~TXT, part: 1)).to eq(33)
        ......#.#.
        #..#.#....
        ..#######.
        .#.#.###..
        .#..#.....
        ..#....#.#
        #..#....#.
        .##.#..###
        ##...#..#.
        .#....####
      TXT
      expect(runner.execute!(<<~TXT, part: 1)).to eq(35)
        #.#...#.#.
        .###....#.
        .#....#...
        ##.#.#.#.#
        ....#.#.#.
        .##..###.#
        ..#...##..
        ..##....##
        ......#...
        .####.###.
      TXT
      expect(runner.execute!(<<~TXT, part: 1)).to eq(41)
        .#..#..###
        ####.###.#
        ....###.#.
        ..###.##.#
        ##.##.#.#.
        ....###..#
        ..#.#..#.#
        #..#.#.###
        .##...##.#
        .....#.#..
      TXT
      expect(runner.execute!(<<~TXT, part: 1)).to eq(210)
        .#..##.###...#######
        ##.############..##.
        .#.######.########.#
        .###.#######.####.#.
        #####.##.#.##.###.##
        ..#####..#.#########
        ####################
        #.####....###.#.#.##
        ##.#################
        #####.##.###..####..
        ..######..##.#######
        ####.##.####...##..#
        .#####..#.######.###
        ##...#.##########...
        #.##########.#######
        .####.#.###.###.#.##
        ....##.##.###..#####
        .#.#.###########.###
        #.#.#.#####.####.###
        ###.##.####.##.#..##
      TXT
    end
  end

  describe "Part Two" do
    let(:solution) { runner.execute!(input, part: 2) }
    let(:input) do
      <<~TXT
        .#..##.###...#######
        ##.############..##.
        .#.######.########.#
        .###.#######.####.#.
        #####.##.#.##.###.##
        ..#####..#.#########
        ####################
        #.####....###.#.#.##
        ##.#################
        #####.##.###..####..
        ..######..##.#######
        ####.##.####...##..#
        .#####..#.######.###
        ##...#.##########...
        #.##########.#######
        .####.#.###.###.#.##
        ....##.##.###..#####
        .#.#.###########.###
        #.#.#.#####.####.###
        ###.##.####.##.#..##
      TXT
    end

    it "finds the position of the 200th vaporized asteroid" do
      expect(solution).to eq(802)
    end
  end
end
